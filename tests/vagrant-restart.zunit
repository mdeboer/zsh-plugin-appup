#!/usr/bin/env zunit

@setup {
    load ../appup.plugin.zsh
    
    _tmp_setup
}

@teardown {
    _tmp_teardown
}

@test 'Vagrant restart' {
    touch Vagrantfile

    run restart
    
    assert $state equals 0
    assert "$output" same_as 'vagrant reload'
}

@test 'Vagrant restart (with arguments)' {
    touch Vagrantfile

    run restart mysql --provision
    
    assert $state equals 0
    assert "$output" same_as 'vagrant reload mysql --provision'
}
